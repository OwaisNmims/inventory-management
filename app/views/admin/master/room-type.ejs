<%- include ('../partials/head') %>

<!--  BEGIN NAVBAR  -->
<%- include ('../partials/header') %>
<!--  END NAVBAR  -->

<!--  BEGIN MAIN CONTAINER  -->
<div class="main-container" id="container">

  <div class="overlay"></div>
  <div class="search-overlay"></div>

  <!--  BEGIN SIDEBAR  -->
  <%- include ('../partials/sidebar') %>
  <!--  END SIDEBAR  -->

  <!--  BEGIN CONTENT AREA  -->
  <div id="content" class="main-content">
    <div class="layout-px-spacing">

      <div class="middle-content container-xxl p-0">

        <!--  BEGIN BREADCRUMBS  -->
        <div class="secondary-nav">
          <div class="breadcrumbs-container" data-page-heading="Analytics">
            <header class="header navbar navbar-expand-sm">
              <a href="javascript:void(0);" class="btn-toggle sidebarCollapse" data-placement="bottom">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
                  <line x1="3" y1="12" x2="21" y2="12"></line>
                  <line x1="3" y1="6" x2="21" y2="6"></line>
                  <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
              </a>
              <div class="d-flex breadcrumb-content">
                <div class="page-header">

                  <div class="page-title">
                  </div>

                  <nav class="breadcrumb-style-one" aria-label="breadcrumb">
                    <ol class="breadcrumb">
                      <li class="breadcrumb-item active"><a href="./masters">Master</a>
                      </li>
                      <li class="breadcrumb-item active" aria-current="page">Room Type</li>
                    </ol>
                  </nav>

                </div>
              </div>

            </header>
          </div>
        </div>
        <!--  END BREADCRUMBS  -->

        <div class="main-content">

          <div class="table-template">
            <div class="table-header">
              <div class="table-title">
                <h3>Room Type</h3>
              </div>
              <div class="table-actions">
                <button style="background: none; border: none;" data-bs-toggle="modal" data-bs-target="#add-room-type-modal"><i class="fa-regular fa-square-plus"></i>
                </button>
              </div>
            </div>

            <div class="table-content">
              <div class="table-filter-container"></div>
              <div class="table-content">

                <div class="table-responsive">
                  <table class="table table-bordered" id="table-content">
                    <thead>
                      <tr>
                        <th scope="col">Sr No.</th>
                        <th scope="col">Hotel Name</th>
                        <th scope="col">Room Type</th>
                        <th class="text-center" scope="col">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- <tr>
                                                    <td>
                                                        1
                                                    </td>
                                                    <td>
                                                        Maharashtra
                                                    </td>
                                                    <td>
                                                        MUM
                                                    </td>
                                                    <td>
                                                        India
                                                    </td>
                                                    <td class="text-center">
                                                        <div class="action-btns">

                                                            <a href="javascript:void(0);"
                                                                class="action-btn btn-edit bs-tooltip me-2"
                                                                data-toggle="tooltip" data-placement="top" title="Edit">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-edit-2">
                                                                    <path
                                                                        d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z">
                                                                    </path>
                                                                </svg>
                                                            </a>
                                                            <a href="javascript:void(0);"
                                                                class="action-btn btn-delete bs-tooltip"
                                                                data-toggle="tooltip" data-placement="top"
                                                                title="Delete">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-trash-2">
                                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                                    <path
                                                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                                                    </path>
                                                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                                                </svg>
                                                            </a>
                                                        </div>
                                                    </td>
                                                </tr> -->

                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>
  <!--  END CONTENT AREA  -->

</div>
<!-- END MAIN CONTAINER -->

<!--ADD Modal -->
<div class="modal fade" id="add-room-type-modal" tabindex="-1" role="dialog" aria-labelledby="add-room-type-modal" aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content modal-inputform">
      <div class="modal-header  modal-inputform-header">
        <h5 class="modal-title text-dark" id="">ADD Room Type</h5>
        <button type="button" class="btn fs-4 text-dark" data-bs-dismiss="modal" aria-label="Close"><i class="fas fa-times"></i></button>

      </div>
      <div class="modal-body">
        <div class="row info-container">
          <div class="col-md-3 select-fields">

            <div class="input-group mb-3 d-flex flex-column">
              <label class="form-label">Hotel Name</label>
              <select id="select-hotel" autocomplete="off" style="line-height: 30px;">
                <option value="">Select a Room Type...</option>
                <option value="Lorem Ipsum">Lorem Ipsum Hotel</option>
                <option value="Lorem Ipsumm">Lorem Ipsumm Hotel</option>
              </select>
            </div>

            <div class="input-group mb-3 d-flex flex-column">
              <label class="form-label">Room Type</label>
              <input type="text" name="room-type" id="select-room-type" class="w-100">
            </div>



            <div class="mb-3 d-grid gap-2">
              <button class="btn text-light add-room-type btn-info">ADD</button>
            </div>

          </div>
          <div class="col-md-9 selected-fields">
            <div class="table-responsive">
              <table class="table table-bordered" id="add-more-room-type-table">
                <thead>
                  <th>Sr No.</th>
                  <th>Hotel Name</th>
                  <th>Room Type</th>
                  <th>Action</th>
                </thead>
                <tbody>

                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn create-room-type btn-primary">CREATE</button>
      </div>
    </div>
  </div>
</div>


<%- include ('../partials/footer') %>

<!-- CUSTOM JS SCRIPT -->
<script>
  $(document).ready(function() {

    new TomSelect("#select-hotel", {
      create: true,
      sortField: {
        field: "text",
        direction: "asc"
      }
    });

    let addRoomType = document.querySelector('.add-room-type');
    let hotel;
    let roomType;
    let addTable = document.querySelector('#add-more-room-type-table tbody');
    let tableRow = ``;
    let count = 0;

    addRoomType.addEventListener('click', function() {

      hotel = document.querySelector('#select-hotel').value;
      roomType = document.querySelector('#select-room-type').value;

      tableRow = `<tr>
                            <td>${++count}</td>
                            <td>${hotel}</td>
                            <td>${roomType}</td>
                            <td><button class = 'delete-row'>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                                </button></td>
                        </tr>`

      addTable.insertAdjacentHTML('beforeend', tableRow)
      console.log('clicked!!', hotel)

    })

    document.addEventListener('click', function(ele) {

      console.log('Delete Clicked', ele.target)
      if (ele.target.classList.contains('delete-row') || ele.target.classList.contains('feather-trash-2')) {
        ele.target.closest('tr').remove();
      }
    })


    const createRoomType = document.querySelector('.create-room-type');
    const addRow = document.querySelector('#table-content tbody');
    console.log(addRow);

    let row = ``;
    let countRow = 0;

    createRoomType.addEventListener('click', function() {
      row = `  <tr>
                        <td> ${++countRow}</td>
                        <td>${hotel}</td>
                        <td>${roomType}</td>
                        <td class="text-center">
                        <div class="action-btns">
                            <a href="javascript:void(0);"
                                class="action-btn btn-edit bs-tooltip me-2"
                                data-toggle="tooltip" data-placement="top" title="Edit">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                    height="24" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="feather feather-edit-2">
                                    <path
                                        d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z">
                                    </path>
                                </svg>
                            </a>
                            <a href="javascript:void(0);"
                                class="action-btn btn-delete bs-tooltip"
                                data-toggle="tooltip" data-placement="top"
                                title="Delete">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                    height="24" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="feather feather-trash-2">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path
                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                    </path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                            </a>
                        </div>
                    </td>
                </tr>`

      addRow.insertAdjacentHTML('beforeend', row)

    })
  })
</script>
<!--END CUSTOM JS SCRIPT -->

<%- include ('../partials/footer-end') %>